anotações trabalho:

Rabbit: https://customer.cloudamqp.com/login
usuario: faculdade.anavargas@gmail.com / Feliz212*

Antes de Rodar, Ajustar arquivo:
node\src\models\ConnectionDB.ts confg BD
rodar: npm run dev

ticket-api-laravel\.env senha BD
rodar: php artisan serve --port=9000

Tirado fora:
1) tratativas UF
2) abertura_chamado (pedido)
3) Templates / possui template (cat e su)
4) Agendamento (pedido, cat e sub)
5) funcionario com troca de setor
6) Classificacao (pedido, cat e sub)
7) ativo (adicionais)
7) Soft delete (info_adicionais)
7) Tipo_mensagem (mensagem, tipo_mensagem)
8) abertura_area (pedido)
9) pendente, reaberto, recategorizar (status, mensagem)
10) ultima interacao (pedido)
11) pausas (mensagem)
12) histórico publico (historico)
13) setores_tb -> areas

Mudança - tab permissoes:
id_usuario para usuario_id
id_setor para area_id

Relacinamentos Usuario
Ajustar Class User->Usuario


try {
	DB::beginTransaction();

	DB::commit();
	return array(
		'status' 	=> true,
		'mensagem' 	=> "Usuário cadastrado com sucesso.",
		'dados' 	=>  $dados
	);

} catch (Exception $ex) {
	DB::rollBack();
	return array(
		'status' 	=> false,
		'mensagem' 	=> "Erro ao cadastrar usuário.",
		'exception' 	=> $ex->getMessage()
	);
}


Rotas Catalogo:
Carregar categorias: 

Assunto:
GET 	http://localhost:8000/api/assunto/setor/16
N_GET 	http://localhost:8000/api/assunto/ - OK
POST	http://localhost:8000/api/assunto/ - OK
PUT	http://localhost:8000/api/assunto/154 - OK

Categoria:
GET 	http://localhost:8000/api/assunto/151/categorias* (com sub)
POST	http://localhost:8000/api/categoria/ - OK
PUT	http://localhost:8000/api/categoria/845 - OK

Sub:
POST	http://localhost:8000/api/sub_categoria/ - OK
PUT	http://localhost:8000/api/sub_categoria/1417 - OK

usuario_id (obter) - OK
rota de editar grupo esta removendo os integrantes que estao no grupo (passando apenas o titulo como parametro) OK
rota para retornar assuntos por ID - rota: GET | http://127.0.0.1:9000/api/assunto/6/categorias OK
rota para retornar as informações de uma subcategoria por id subcategoria

Rota de Categoria
buscar: http://localhost:9000/api/categoria/{categoria_id} - OK

Novo Pedido:
Listar Area: http://127.0.0.1:9000/api/area/ OK
Listar assuntos ativos: http://127.0.0.1:9000/api/area/{area_id}/assuntoAtivo OK
Listar categorias ativas: http://127.0.0.1:9000/api/assunto/{assunto_id}/categoriasAtivas OK
Cadastrar Pedido: POST http://127.0.0.1:9000/api/pedido OK *arquivos salvo: storage/app/uploads

Retirado: 
Campos adicionais
Envio de email *pendente

Interação e Iniciar Atendimento:
Cadastrar mensagem: 		POST    api/pedido/{pedido_id}/mensagem/cadastrar OK

*Baixar anexo: 			GET 	api/pedido/mensagem/50014/anexo/11730/baixar	-   mensagem_id / id (anexo)
*Iniciar atendimento: 	PATCH   api/pedido/21930/iniciar-atendimento  		-   pedido_id
*Consultar pedido:		GET		api/pedido/21930							-   pedido_id
